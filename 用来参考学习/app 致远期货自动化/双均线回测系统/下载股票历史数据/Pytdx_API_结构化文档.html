<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pytdx API 结构化文档</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .nav {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        
        .nav a {
            color: #3498db;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            background: #ecf0f1;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav a:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            margin-bottom: 25px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 30px;
            font-size: 1.4em;
            font-weight: 600;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .api-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .api-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .api-title {
            color: #2c3e50;
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        .param {
            background: #e8f4fd;
            padding: 8px 12px;
            border-radius: 5px;
            margin: 5px 0;
            border-left: 3px solid #3498db;
        }
        
        .param-name {
            font-weight: 600;
            color: #2980b9;
        }
        
        .param-type {
            color: #e74c3c;
            font-style: italic;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
        }
        
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }
        
        .feature-title {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .method-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .method-name {
            color: #e74c3c;
            font-family: 'Courier New', monospace;
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        
        .method-desc {
            color: #555;
            margin-bottom: 15px;
        }
        
        .params-list {
            background: #fff;
            padding: 15px;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        
        .params-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .section-content {
                padding: 20px;
            }
            
            .method-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 Pytdx API 结构化文档</h1>
            <div class="subtitle">Python 通达信数据接口 - 完整API参考文档</div>
            <div class="info">
                <strong>官方文档：</strong> <a href="https://pytdx-docs.readthedocs.io/zh-cn/latest/" target="_blank">https://pytdx-docs.readthedocs.io</a> | 
                <strong>GitHub：</strong> <a href="https://github.com/rainx/pytdx" target="_blank">https://github.com/rainx/pytdx</a>
            </div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="#overview">概述</a></li>
                <li><a href="#installation">安装</a></li>
                <li><a href="#hq-api">标准行情API</a></li>
                <li><a href="#exhq-api">扩展行情API</a></li>
                <li><a href="#reader-api">数据读取API</a></li>
                <li><a href="#pool-api">连接池API</a></li>
                <li><a href="#examples">使用示例</a></li>
                <li><a href="#tools">命令行工具</a></li>
            </ul>
        </nav>
        
        <section id="overview" class="section">
            <div class="section-header">📋 概述</div>
            <div class="section-content">
                <p>Pytdx 是一款纯Python语言开发的类似TradeX的行情数据接口的实现。</p>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">🐍 纯Python实现</div>
                        <p>无须引入动态连接库.dll/.so文件，完全使用Python实现</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🌐 跨平台支持</div>
                        <p>支持Python 2.7+/3.5+，以及全平台Windows/MacOS/Linux</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🔒 线程安全</div>
                        <p>可以通过设置参数提供线程安全接口调用</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">💓 心跳机制</div>
                        <p>实现心跳包机制，可以在长时间没有交互的情况下保持不断线</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🔄 连接池</div>
                        <p>支持多连接构成的连接池机制，和failover处理机制，保证稳定性</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📊 数据解析</div>
                        <p>重点放在底层包的解析，对于更高层的封装建议参考Quantaxis</p>
                    </div>
                </div>
                
                <div class="warning">
                    <strong>⚠️ 声明：</strong>
                    <p>此代码用于个人对网络协议的研究和习作，不对外提供服务。任何人使用本代码遇到问题请自行解决，机构请不要使用此代码，对此造成的任何问题本人概不负责。</p>
                </div>
            </div>
        </section>
        
        <section id="installation" class="section">
            <div class="section-header">⚙️ 安装</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">安装方法</div>
                    <div class="code-block">
pip install pytdx
                    </div>
                    <p>安装完成后即可开始使用Pytdx的各种功能模块。</p>
                </div>
            </div>
        </section>
        
        <section id="hq-api" class="section">
            <div class="section-header">📊 标准行情API (pytdx.hq)</div>
            <div class="section-content">
                <p>用于读取标准行情信息，包括股票、指数等基础行情数据。</p>
                
                <div class="api-card">
                    <div class="api-title">基础使用</div>
                    <div class="code-block">
from pytdx.hq import TdxHq_API

# 创建API实例
api = TdxHq_API()

# 连接服务器
if api.connect('119.147.212.81', 7709):
    # 获取股票数量
    count = api.get_security_count(0)  # 0表示深圳，1表示上海
    print(f"深圳股票数量: {count}")
    
    # 断开连接
    api.disconnect()
                    </div>
                </div>
                
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">get_security_count(market)</div>
                        <div class="method-desc">获取指定市场的证券数量</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码，0=深圳，1=上海
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_security_list(market, start)</div>
                        <div class="method-desc">获取证券列表</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">start</span> <span class="param-type">(int)</span>: 起始位置
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_security_quotes(stocks)</div>
                        <div class="method-desc">获取多只股票的五档行情</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">stocks</span> <span class="param-type">(list)</span>: 股票代码列表，格式[(market, code), ...]
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_k_data(code, start, count, klt, market)</div>
                        <div class="method-desc">获取K线数据</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 股票代码
                            </div>
                            <div class="param">
                                <span class="param-name">start</span> <span class="param-type">(int)</span>: 起始位置
                            </div>
                            <div class="param">
                                <span class="param-name">count</span> <span class="param-type">(int)</span>: 数据数量
                            </div>
                            <div class="param">
                                <span class="param-name">klt</span> <span class="param-type">(int)</span>: K线类型，4=1分钟，5=5分钟，6=15分钟，7=30分钟，8=1小时，9=日线，10=周线，11=月线
                            </div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_history_minute_time_data(market, code, date)</div>
                        <div class="method-desc">获取历史分时数据</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 股票代码
                            </div>
                            <div class="param">
                                <span class="param-name">date</span> <span class="param-type">(int)</span>: 日期，格式YYYYMMDD
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_transaction_data(market, code, start, count, date)</div>
                        <div class="method-desc">获取历史分笔成交</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 股票代码
                            </div>
                            <div class="param">
                                <span class="param-name">start</span> <span class="param-type">(int)</span>: 起始位置
                            </div>
                            <div class="param">
                                <span class="param-name">count</span> <span class="param-type">(int)</span>: 数据数量
                            </div>
                            <div class="param">
                                <span class="param-name">date</span> <span class="param-type">(int)</span>: 日期
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="exhq-api" class="section">
            <div class="section-header">🌍 扩展行情API (pytdx.exhq)</div>
            <div class="section-content">
                <p>用于读取扩展行情（外盘，期权，期货等）数据。</p>
                
                <div class="api-card">
                    <div class="api-title">基础使用</div>
                    <div class="code-block">
from pytdx.exhq import TdxExHq_API

# 创建扩展行情API实例
api = TdxExHq_API()

# 连接服务器
if api.connect('61.152.107.141', 7727):
    # 获取市场列表
    markets = api.get_markets()
    print(f"可用市场: {markets}")
    
    # 断开连接
    api.disconnect()
                    </div>
                </div>
                
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">get_markets()</div>
                        <div class="method-desc">获取市场列表</div>
                        <div class="params-list">
                            <div class="params-title">返回：</div>
                            <p>返回可用的市场列表，包括期货、外盘等市场信息</p>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_instrument_count()</div>
                        <div class="method-desc">获取合约数量</div>
                        <div class="params-list">
                            <div class="params-title">返回：</div>
                            <p>返回指定市场的合约总数量</p>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_instrument_info(market, start, count)</div>
                        <div class="method-desc">获取合约信息</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">start</span> <span class="param-type">(int)</span>: 起始位置
                            </div>
                            <div class="param">
                                <span class="param-name">count</span> <span class="param-type">(int)</span>: 获取数量
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_instrument_quote(market, code)</div>
                        <div class="method-desc">获取合约行情</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 合约代码
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_minute_time_data(market, code, date)</div>
                        <div class="method-desc">获取分时数据</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 合约代码
                            </div>
                            <div class="param">
                                <span class="param-name">date</span> <span class="param-type">(int)</span>: 日期
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">get_history_bars(market, code, category, start, count)</div>
                        <div class="method-desc">获取历史K线</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">market</span> <span class="param-type">(int)</span>: 市场代码
                            </div>
                            <div class="param">
                                <span class="param-name">code</span> <span class="param-type">(str)</span>: 合约代码
                            </div>
                            <div class="param">
                                <span class="param-name">category</span> <span class="param-type">(int)</span>: K线类型
                            </div>
                            <div class="param">
                                <span class="param-name">start</span> <span class="param-type">(int)</span>: 起始位置
                            </div>
                            <div class="param">
                                <span class="param-name">count</span> <span class="param-type">(int)</span>: 数据数量
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="reader-api" class="section">
            <div class="section-header">📁 数据文件读取API (pytdx.reader)</div>
            <div class="section-content">
                <p>用于读取导出的K线数据文件。</p>
                
                <div class="api-card">
                    <div class="api-title">基础使用</div>
                    <div class="code-block">
from pytdx.reader import TdxDailyBarReader, TdxMinuteBarReader

# 读取日线数据
daily_reader = TdxDailyBarReader()
data = daily_reader.get_df('sh000001.day')  # 读取上证指数日线数据
print(data.head())

# 读取分钟数据
minute_reader = TdxMinuteBarReader()
data = minute_reader.get_df('sh000001.lc1')  # 读取1分钟数据
print(data.head())
                    </div>
                </div>
                
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">TdxDailyBarReader</div>
                        <div class="method-desc">日线数据读取器</div>
                        <div class="params-list">
                            <div class="params-title">方法：</div>
                            <div class="param">
                                <span class="param-name">get_df(filename)</span>: 读取日线数据文件，返回DataFrame
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">TdxMinuteBarReader</div>
                        <div class="method-desc">分钟线数据读取器</div>
                        <div class="params-list">
                            <div class="params-title">方法：</div>
                            <div class="param">
                                <span class="param-name">get_df(filename)</span>: 读取分钟数据文件，返回DataFrame
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">TdxLCMinuteBarReader</div>
                        <div class="method-desc">LC分钟线数据读取器</div>
                        <div class="params-list">
                            <div class="params-title">方法：</div>
                            <div class="param">
                                <span class="param-name">get_df(filename)</span>: 读取LC格式分钟数据
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">TdxFileNotFoundException</div>
                        <div class="method-desc">文件未找到异常</div>
                        <div class="params-list">
                            <div class="params-title">说明：</div>
                            <p>当指定的数据文件不存在时抛出此异常</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="pool-api" class="section">
            <div class="section-header">🔄 连接池API (pytdx.pool)</div>
            <div class="section-content">
                <p>用于实现备用连接池以及failover支持的行情接口（试验性质）。</p>
                
                <div class="api-card">
                    <div class="api-title">基础使用</div>
                    <div class="code-block">
from pytdx.pool import TdxPool

# 创建连接池
pool = TdxPool()

# 添加服务器
pool.add_server('119.147.212.81', 7709)
pool.add_server('114.80.63.12', 7709)
pool.add_server('180.153.39.51', 7709)

# 使用连接池执行查询
result = pool.execute(lambda api: api.get_security_count(0))
print(f"深圳股票数量: {result}")

# 关闭连接池
pool.close()
                    </div>
                </div>
                
                <div class="method-grid">
                    <div class="method-card">
                        <div class="method-name">TdxPool(max_size=10)</div>
                        <div class="method-desc">创建连接池</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">max_size</span> <span class="param-type">(int)</span>: 最大连接数，默认10
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">add_server(host, port)</div>
                        <div class="method-desc">添加服务器</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">host</span> <span class="param-type">(str)</span>: 服务器地址
                            </div>
                            <div class="param">
                                <span class="param-name">port</span> <span class="param-type">(int)</span>: 端口号
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">execute(func)</div>
                        <div class="method-desc">执行函数</div>
                        <div class="params-list">
                            <div class="params-title">参数：</div>
                            <div class="param">
                                <span class="param-name">func</span> <span class="param-type">(function)</span>: 要执行的函数，接收api参数
                            </div>
                        </div>
                    </div>
                    
                    <div class="method-card">
                        <div class="method-name">close()</div>
                        <div class="method-desc">关闭连接池</div>
                        <div class="params-list">
                            <div class="params-title">说明：</div>
                            <p>关闭所有连接，释放资源</p>
                        </div>
                    </div>
                </div>
                
                <div class="info">
                    <strong>💡 连接池优势：</strong>
                    <ul>
                        <li>自动failover：当一个服务器不可用时，自动切换到其他服务器</li>
                        <li>负载均衡：在多个服务器之间分配请求</li>
                        <li>连接复用：减少连接建立和断开的开销</li>
                        <li>稳定性：提高整体系统的稳定性和可靠性</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="examples" class="section">
            <div class="section-header">💡 使用示例</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">获取股票基本信息</div>
                    <div class="code-block">
from pytdx.hq import TdxHq_API
import pandas as pd

api = TdxHq_API()
if api.connect('119.147.212.81', 7709):
    # 获取深圳股票列表
    stocks = api.get_security_list(0, 0)  # 市场0=深圳，起始位置0
    
    # 转换为DataFrame
    df = pd.DataFrame(stocks)
    print(df.head())
    
    api.disconnect()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取实时行情</div>
                    <div class="code-block">
from pytdx.hq import TdxHq_API

api = TdxHq_API()
if api.connect('119.147.212.81', 7709):
    # 获取多只股票的实时行情
    stocks = [(0, '000001'), (0, '000002'), (1, '600000')]  # (市场, 代码)
    quotes = api.get_security_quotes(stocks)
    
    for quote in quotes:
        print(f"代码: {quote['code']}, 名称: {quote['name']}, 价格: {quote['price']}")
    
    api.disconnect()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取K线数据</div>
                    <div class="code-block">
from pytdx.hq import TdxHq_API
import pandas as pd

api = TdxHq_API()
if api.connect('119.147.212.81', 7709):
    # 获取平安银行日K线数据
    data = api.get_k_data('000001', 0, 100, 9, 0)  # 代码, 起始, 数量, 日线, 深圳
    
    # 转换为DataFrame
    df = pd.DataFrame(data)
    df['datetime'] = pd.to_datetime(df['datetime'])
    print(df.head())
    
    api.disconnect()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取分时数据</div>
                    <div class="code-block">
from pytdx.hq import TdxHq_API
import pandas as pd

api = TdxHq_API()
if api.connect('119.147.212.81', 7709):
    # 获取平安银行今日分时数据
    import datetime
    today = int(datetime.datetime.now().strftime('%Y%m%d'))
    
    data = api.get_history_minute_time_data(0, '000001', today)
    
    # 转换为DataFrame
    df = pd.DataFrame(data)
    print(df.head())
    
    api.disconnect()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">使用连接池</div>
                    <div class="code-block">
from pytdx.pool import TdxPool

# 创建连接池并添加多个服务器
pool = TdxPool()
pool.add_server('119.147.212.81', 7709)
pool.add_server('114.80.63.12', 7709)
pool.add_server('180.153.39.51', 7709)

# 定义查询函数
def get_stock_count(api):
    return api.get_security_count(0)

def get_stock_list(api):
    return api.get_security_list(0, 0)

# 执行查询
count = pool.execute(get_stock_count)
stocks = pool.execute(get_stock_list)

print(f"股票数量: {count}")
print(f"前几只股票: {stocks[:5]}")

# 关闭连接池
pool.close()
                    </div>
                </div>
            </div>
        </section>
        
        <section id="tools" class="section">
            <div class="section-header">🛠️ 命令行工具</div>
            <div class="section-content">
                <p>Pytdx提供了方便的命令行工具用于调试和导出数据。</p>
                
                <div class="api-card">
                    <div class="api-title">hqget - 行情数据获取工具</div>
                    <div class="code-block">
# 获取股票列表
hqget stocks

# 获取指定股票的K线数据
hqget kline --code 000001 --market 0 --count 100

# 获取实时行情
hqget quote --code 000001 --market 0
                    </div>
                    <p>用于快速获取各种行情数据，支持多种参数配置。</p>
                </div>
                
                <div class="api-card">
                    <div class="api-title">hqreader - 数据文件读取工具</div>
                    <div class="code-block">
# 读取日线数据文件
hqreader daily --file sh000001.day

# 读取分钟数据文件
hqreader minute --file sh000001.lc1

# 导出为CSV格式
hqreader daily --file sh000001.day --output data.csv
                    </div>
                    <p>用于读取和转换通达信导出的数据文件。</p>
                </div>
                
                <div class="info">
                    <strong>📝 使用说明：</strong>
                    <ul>
                        <li>命令行工具安装pytdx后自动可用</li>
                        <li>支持多种输出格式：JSON、CSV、Excel等</li>
                        <li>可以配置服务器地址和端口</li>
                        <li>支持批量数据导出和处理</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <div class="section">
            <div class="section-header">📞 相关资源</div>
            <div class="section-content">
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">📚 官方文档</div>
                        <p><a href="https://pytdx-docs.readthedocs.io/zh-cn/latest/" target="_blank">https://pytdx-docs.readthedocs.io</a></p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">💻 GitHub仓库</div>
                        <p><a href="https://github.com/rainx/pytdx" target="_blank">https://github.com/rainx/pytdx</a></p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🏛️ 智矿社区</div>
                        <p><a href="http://zhikuang.org" target="_blank">http://zhikuang.org</a></p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📦 PyPI包</div>
                        <p><a href="https://pypi.org/project/pytdx/" target="_blank">https://pypi.org/project/pytdx/</a></p>
                    </div>
                </div>
                
                <div class="warning">
                    <strong>⚠️ 重要提醒：</strong>
                    <ul>
                        <li>本代码仅用于个人学习和研究，不对外提供商业服务</li>
                        <li>使用时请遵守相关法律法规和服务器使用条款</li>
                        <li>机构用户请谨慎使用，作者不承担任何责任</li>
                        <li>建议配合Quantaxis等更高层框架使用</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>