<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaoStock API 结构化文档</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        
        .nav {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        
        .nav a {
            color: #3498db;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            background: #ecf0f1;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav a:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }
        
        .section {
            background: rgba(255, 255, 255, 0.95);
            margin-bottom: 25px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
        }
        
        .section-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 30px;
            font-size: 1.4em;
            font-weight: 600;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .api-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .api-card:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .api-title {
            color: #2c3e50;
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        
        .param {
            background: #e8f4fd;
            padding: 8px 12px;
            border-radius: 5px;
            margin: 5px 0;
            border-left: 3px solid #3498db;
        }
        
        .param-name {
            font-weight: 600;
            color: #2980b9;
        }
        
        .param-type {
            color: #e74c3c;
            font-style: italic;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #f39c12;
        }
        
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #17a2b8;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }
        
        .feature-title {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .data-table th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .section-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏦 BaoStock API 结构化文档</h1>
            <div class="subtitle">免费开源证券数据平台 - Python API 接口文档</div>
            <div class="info">
                <strong>官方网站：</strong> <a href="http://baostock.com" target="_blank">www.baostock.com</a> | 
                <strong>联系方式：</strong> QQ群: 931781053 | Email: baostock@163.com
            </div>
        </div>
        
        <nav class="nav">
            <ul>
                <li><a href="#overview">平台概述</a></li>
                <li><a href="#installation">安装配置</a></li>
                <li><a href="#basic-usage">基础用法</a></li>
                <li><a href="#api-reference">API接口</a></li>
                <li><a href="#data-range">数据范围</a></li>
                <li><a href="#examples">使用示例</a></li>
                <li><a href="#version-info">版本信息</a></li>
            </ul>
        </nav>
        
        <section id="overview" class="section">
            <div class="section-header">📋 平台概述</div>
            <div class="section-content">
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">🆓 完全免费</div>
                        <p>无需注册，完全免费使用，提供大量准确、完整的证券历史行情数据</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🐍 Python支持</div>
                        <p>通过Python API获取数据，支持Python 3.5及以上版本</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📊 数据格式</div>
                        <p>返回pandas DataFrame格式，便于数据分析和可视化</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">💾 本地存储</div>
                        <p>支持将数据保存到本地进行离线分析</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">🔄 持续更新</div>
                        <p>数据持续更新，后续将增加港股、期货、外汇等数据</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📈 量化支持</div>
                        <p>满足量化交易投资者、数量金融爱好者的数据需求</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="installation" class="section">
            <div class="section-header">⚙️ 安装配置</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">安装方法</div>
                    <div class="code-block">
# 方法1：使用pip安装
pip install baostock

# 使用指定源安装
pip install baostock -i https://pypi.org/simple

# 方法2：从PyPI下载安装
# 访问 https://pypi.python.org/pypi/baostock 下载
python setup.py install
# 或
pip install xxx.whl
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">版本升级</div>
                    <div class="code-block">
pip install --upgrade baostock -i https://pypi.org/simple
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">使用前提</div>
                    <ul>
                        <li>安装Python（支持Python 3.5及以上版本）</li>
                        <li>安装pandas：<code>pip install pandas</code></li>
                        <li>建议安装Anaconda以避免依赖问题</li>
                    </ul>
                </div>
                
                <div class="warning">
                    <strong>⚠️ 注意事项：</strong>
                    <ul>
                        <li>程序运行时，文件名、文件夹名不能是baostock</li>
                        <li>暂不支持Python 2.x版本</li>
                        <li>建议使用Anaconda环境以避免依赖冲突</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="basic-usage" class="section">
            <div class="section-header">🚀 基础用法</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">基本使用流程</div>
                    <div class="code-block">
import baostock as bs
import pandas as pd

# 登陆系统
lg = bs.login()
print('login respond error_code:'+lg.error_code)
print('login respond  error_msg:'+lg.error_msg)

# 获取数据
# ... 具体API调用 ...

# 登出系统
bs.logout()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">数据获取示例</div>
                    <div class="code-block">
# 获取历史K线数据
rs = bs.query_history_k_data_plus("sh.600000",
    "date,code,open,high,low,close,preclose,volume,amount,adjustflag,turn,tradestatus,pctChg,isST",
    start_date='2017-07-01', end_date='2017-12-31', 
    frequency="d", adjustflag="3")

# 转换为DataFrame
data_list = []
while (rs.error_code == '0') & rs.next():
    data_list.append(rs.get_row_data())
result = pd.DataFrame(data_list, columns=rs.fields)

print(result)
                    </div>
                </div>
            </div>
        </section>
        
        <section id="api-reference" class="section">
            <div class="section-header">📚 API接口参考</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">query_history_k_data_plus() - 历史K线数据</div>
                    <div class="param">
                        <span class="param-name">code</span> <span class="param-type">(string)</span>: 证券代码，如"sh.600000"
                    </div>
                    <div class="param">
                        <span class="param-name">fields</span> <span class="param-type">(string)</span>: 指示简称，支持多指标输入，以","分隔
                    </div>
                    <div class="param">
                        <span class="param-name">start_date</span> <span class="param-type">(string)</span>: 开始日期，格式"YYYY-MM-DD"
                    </div>
                    <div class="param">
                        <span class="param-name">end_date</span> <span class="param-type">(string)</span>: 结束日期，格式"YYYY-MM-DD"
                    </div>
                    <div class="param">
                        <span class="param-name">frequency</span> <span class="param-type">(string)</span>: 数据类型，d=日k线；w=周；m=月；5=5分钟；15=15分钟；30=30分钟；60=60分钟
                    </div>
                    <div class="param">
                        <span class="param-name">adjustflag</span> <span class="param-type">(string)</span>: 复权类型，"1"=后复权；"2"=前复权；"3"=不复权
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_all_stock() - 获取证券信息</div>
                    <div class="param">
                        <span class="param-name">day</span> <span class="param-type">(string)</span>: 查询日期，格式"YYYY-MM-DD"
                    </div>
                    <p>返回指定日期全部股票列表信息</p>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_stock_basic() - 证券基本资料</div>
                    <div class="param">
                        <span class="param-name">code</span> <span class="param-type">(string)</span>: 证券代码，如"sh.600000"
                    </div>
                    <div class="param">
                        <span class="param-name">code_name</span> <span class="param-type">(string)</span>: 证券名称，支持模糊查询
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_profit_data() - 季频盈利能力</div>
                    <div class="param">
                        <span class="param-name">code</span> <span class="param-type">(string)</span>: 证券代码
                    </div>
                    <div class="param">
                        <span class="param-name">year</span> <span class="param-type">(string)</span>: 统计年份
                    </div>
                    <div class="param">
                        <span class="param-name">quarter</span> <span class="param-type">(string)</span>: 统计季度
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_sz50_stocks() - 上证50成分股</div>
                    <div class="param">
                        <span class="param-name">date</span> <span class="param-type">(string)</span>: 查询日期，格式"YYYY-MM-DD"
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_hs300_stocks() - 沪深300成分股</div>
                    <div class="param">
                        <span class="param-name">date</span> <span class="param-type">(string)</span>: 查询日期，格式"YYYY-MM-DD"
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_zz500_stocks() - 中证500成分股</div>
                    <div class="param">
                        <span class="param-name">date</span> <span class="param-type">(string)</span>: 查询日期，格式"YYYY-MM-DD"
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">query_stock_industry() - 行业分类</div>
                    <div class="param">
                        <span class="param-name">date</span> <span class="param-type">(string)</span>: 查询日期，格式"YYYY-MM-DD"
                    </div>
                </div>
            </div>
        </section>
        
        <section id="data-range" class="section">
            <div class="section-header">📊 数据范围说明</div>
            <div class="section-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>数据类型</th>
                            <th>时间范围</th>
                            <th>更新频率</th>
                            <th>说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>日、周、月K线</td>
                            <td>1990-12-19至今</td>
                            <td>每日17:30</td>
                            <td>包含股票和指数数据</td>
                        </tr>
                        <tr>
                            <td>分钟K线</td>
                            <td>2019-01-02至今（近5年）</td>
                            <td>次日11:00</td>
                            <td>5、15、30、60分钟</td>
                        </tr>
                        <tr>
                            <td>复权因子</td>
                            <td>-</td>
                            <td>每日18:00</td>
                            <td>前复权、后复权数据</td>
                        </tr>
                        <tr>
                            <td>财务数据</td>
                            <td>2007年至今</td>
                            <td>次日1:30</td>
                            <td>季频财务报表数据</td>
                        </tr>
                        <tr>
                            <td>成分股数据</td>
                            <td>2006年至今</td>
                            <td>每周一下午</td>
                            <td>上证50、沪深300、中证500</td>
                        </tr>
                        <tr>
                            <td>业绩预告</td>
                            <td>2003年至今</td>
                            <td>-</td>
                            <td>上市公司业绩预告信息</td>
                        </tr>
                        <tr>
                            <td>业绩快报</td>
                            <td>2006年至今</td>
                            <td>-</td>
                            <td>上市公司业绩快报信息</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="info">
                    <strong>📅 数据更新时间：</strong>
                    <ul>
                        <li>当前交易日17:30 - 完成日K线数据入库</li>
                        <li>当前交易日18:00 - 完成复权因子数据入库</li>
                        <li>第二自然日11:00 - 完成分钟K线数据入库</li>
                        <li>第二自然日1:30 - 完成财务报告数据入库</li>
                        <li>周六17:30 - 完成周线数据入库</li>
                        <li>每周一下午 - 完成成份股信息数据入库</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section id="examples" class="section">
            <div class="section-header">💡 使用示例</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">获取股票历史数据</div>
                    <div class="code-block">
import baostock as bs
import pandas as pd

# 登陆系统
lg = bs.login()

# 获取浦发银行历史K线数据
rs = bs.query_history_k_data_plus("sh.600000",
    "date,code,open,high,low,close,preclose,volume,amount,adjustflag,turn,tradestatus,pctChg,isST",
    start_date='2023-01-01', end_date='2023-12-31',
    frequency="d", adjustflag="3")

# 打印结果集
data_list = []
while (rs.error_code == '0') & rs.next():
    data_list.append(rs.get_row_data())
result = pd.DataFrame(data_list, columns=rs.fields)

# 结果集输出到csv文件
result.to_csv("D:\\history_k_data.csv", encoding="gbk", index=False)
print(result)

# 登出系统
bs.logout()
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取分钟级数据</div>
                    <div class="code-block">
# 获取5分钟K线数据
rs = bs.query_history_k_data_plus("sh.600000",
    "date,time,code,open,high,low,close,volume,amount,adjustflag",
    start_date='2023-12-01', end_date='2023-12-31',
    frequency="5", adjustflag="3")
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取成分股信息</div>
                    <div class="code-block">
# 获取上证50成分股
rs = bs.query_sz50_stocks(date='2023-12-31')
sz50_stocks = []
while (rs.error_code == '0') & rs.next():
    sz50_stocks.append(rs.get_row_data())
sz50_df = pd.DataFrame(sz50_stocks, columns=rs.fields)
print(sz50_df)
                    </div>
                </div>
                
                <div class="api-card">
                    <div class="api-title">获取财务数据</div>
                    <div class="code-block">
# 获取季频盈利能力数据
rs = bs.query_profit_data(code="sh.600000", year=2023, quarter=4)
profit_list = []
while (rs.error_code == '0') & rs.next():
    profit_list.append(rs.get_row_data())
profit_df = pd.DataFrame(profit_list, columns=rs.fields)
print(profit_df)
                    </div>
                </div>
            </div>
        </section>
        
        <section id="version-info" class="section">
            <div class="section-header">🔄 版本信息</div>
            <div class="section-content">
                <div class="api-card">
                    <div class="api-title">最新版本 V0.8.9 (2024/05/31)</div>
                    <ul>
                        <li>修复退出时socket未关闭问题</li>
                        <li>调整Demo程序的位置</li>
                    </ul>
                </div>
                
                <div class="api-card">
                    <div class="api-title">历史版本更新</div>
                    <ul>
                        <li><strong>V0.8.8 (2019/01/25)</strong> - 新增get_data()接口，返回dataframe格式数据</li>
                        <li><strong>V0.8.7 (2018/12/14)</strong> - 优化服务器、客户端之间的网络传输</li>
                        <li><strong>V0.8.5 (2018/12/7)</strong> - 新增2019年交易日数据</li>
                        <li><strong>V0.8.5 (2018/11/27)</strong> - 新增2006年01月-2018年09月指数成分股数据</li>
                        <li><strong>V0.8.5 (2018/10/15)</strong> - 新增2006-2010年，日、周、月K线数据</li>
                        <li><strong>V0.8.1 (2018/8/10)</strong> - 新增2012、2013年分钟K线数据，增强复权功能</li>
                        <li><strong>V0.8.0 (2018/7/27)</strong> - 新增证券基本资料接口和存款利率接口</li>
                    </ul>
                </div>
                
                <div class="api-card">
                    <div class="api-title">后续版本计划</div>
                    <ul>
                        <li>提供level1高频股票数据及个股期权数据</li>
                        <li>增加宏观经济数据</li>
                        <li>增强网站数据查询功能及数据下载功能</li>
                        <li>逐步增加港股、期货、外汇和基金等金融数据</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <div class="section">
            <div class="section-header">📞 联系支持</div>
            <div class="section-content">
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-title">🌐 官方网站</div>
                        <p><a href="http://baostock.com" target="_blank">www.baostock.com</a></p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">💬 QQ交流群</div>
                        <p>931781053 (发布维护、量化投资讨论)</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📧 邮箱联系</div>
                        <p>baostock@163.com</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-title">📦 PyPI地址</div>
                        <p><a href="https://pypi.python.org/pypi/baostock" target="_blank">https://pypi.python.org/pypi/baostock</a></p>
                    </div>
                </div>
                
                <div class="info">
                    <strong>💡 使用建议：</strong>
                    <p>BaoStock是一个免费、开源的证券数据平台，建议通过微信、网站博客或知乎文章等方式分享给更多需要的朋友，让它在大家的使用过程中逐步得到改进与提升。</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>