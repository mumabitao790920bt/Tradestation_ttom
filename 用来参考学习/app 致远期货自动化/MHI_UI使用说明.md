# MHI交易测试程序UI界面使用说明

## 概述
为MHI交易测试程序创建了多个UI界面版本，提供图形化操作界面，方便用户进行各种交易测试。

## UI版本说明

### 1. 启动器 (mhi_starter.py)
**功能**: 提供选择不同UI版本的启动界面
**特点**: 
- 统一入口，选择启动哪个版本
- 包含所有程序的快捷启动按钮
- 提供各版本的功能说明

**使用方法**:
```bash
python mhi_starter.py
```

### 2. 简洁版UI (mhi_trader_simple_ui.py)
**功能**: 提供基本的交易操作界面
**特点**:
- 界面简洁，操作简单
- 包含核心交易功能
- 适合快速测试

**主要功能**:
- ✅ 浏览器控制（启动/关闭）
- ✅ 交易模式选择（模拟/实盘）
- ✅ 快速设置（手数、保证金）
- ✅ 交易操作（买涨、买跌、一键平仓）
- ✅ 查询操作（持仓、委托）
- ✅ 测试操作（按钮测试、完整测试）
- ✅ 实时日志显示

### 3. 完整版UI (mhi_trader_ui.py)
**功能**: 提供完整的交易功能界面
**特点**:
- 功能全面，设置详细
- 包含所有交易参数设置
- 适合专业用户

**主要功能**:
- ✅ 浏览器控制（启动/关闭）
- ✅ 交易模式选择（模拟/实盘）
- ✅ 详细订单设置（订单类型、交易模式、手数、保证金、止盈）
- ✅ 交易操作（买涨、买跌、一键平仓）
- ✅ 查询操作（持仓、委托）
- ✅ 测试操作（按钮测试、完整测试）
- ✅ 实时日志显示
- ✅ 多线程操作，界面不卡顿

## 使用步骤

### 第一步：启动程序
1. 运行启动器：
   ```bash
   python mhi_starter.py
   ```

2. 选择要使用的UI版本：
   - **简洁版UI**: 适合快速测试
   - **完整版UI**: 适合详细操作
   - **命令行版本**: 适合自动化脚本
   - **按钮测试器**: 专门测试按钮功能
   - **元素检测器**: 采集页面元素

### 第二步：启动浏览器
1. 点击"启动浏览器"按钮
2. 等待浏览器连接成功（状态显示"已连接"）
3. 确保MHI交易页面已打开并登录

### 第三步：设置参数
1. **选择交易模式**：
   - 模拟模式：安全测试，不会真实交易
   - 实盘模式：真实交易，需要确认

2. **设置交易参数**：
   - 手数：1、2、3、5、8、10
   - 保证金：2700、4050、5850、8100
   - 止盈价格：（可选）

### 第四步：执行操作
1. **交易操作**：
   - 买涨：做多操作
   - 买跌：做空操作
   - 一键平仓：平掉所有持仓

2. **查询操作**：
   - 查询持仓：查看当前持仓
   - 查询委托：查看当前委托

3. **测试操作**：
   - 按钮测试：测试页面按钮功能
   - 完整测试：执行完整交易流程

## 界面说明

### 左侧控制面板
- **浏览器控制**: 启动/关闭浏览器
- **快速设置**: 选择交易模式、手数、保证金
- **交易操作**: 买涨、买跌、一键平仓按钮
- **查询操作**: 查询持仓、委托按钮
- **测试操作**: 按钮测试、完整测试按钮

### 右侧日志面板
- **实时日志**: 显示所有操作日志
- **清空日志**: 清空日志显示
- **自动滚动**: 新日志自动滚动到底部

## 安全特性

### 1. 模式保护
- 默认使用模拟模式
- 实盘模式需要用户确认
- 支持模式切换验证

### 2. 操作确认
- 一键平仓需要确认
- 完整测试需要确认
- 实盘模式切换需要确认

### 3. 多线程操作
- 所有操作在后台线程执行
- 界面不会卡顿
- 支持并发操作

## 注意事项

### 1. 使用前准备
- ⚠️ 确保Chrome浏览器已启动
- ⚠️ 确保MHI交易页面已打开并登录
- ⚠️ 确保元素映射文件已更新

### 2. 安全提醒
- ⚠️ 实盘模式请谨慎操作
- ⚠️ 建议先在模拟模式充分测试
- ⚠️ 确保网络连接稳定

### 3. 故障排除
- 如果浏览器启动失败，检查Chrome是否运行
- 如果操作失败，查看日志面板的错误信息
- 如果元素找不到，重新运行元素检测器

## 快捷键说明

### 界面操作
- `Ctrl+C`: 复制日志内容
- `Ctrl+A`: 全选日志内容
- `F5`: 刷新界面（如果支持）

### 浏览器操作
- `F12`: 打开开发者工具
- `Ctrl+R`: 刷新页面
- `Ctrl+Shift+R`: 强制刷新页面

## 扩展功能

### 1. 自定义设置
可以修改UI代码添加自定义功能：
```python
def custom_function(self):
    # 自定义功能
    pass
```

### 2. 批量操作
可以添加批量操作功能：
```python
def batch_operations(self):
    # 批量操作逻辑
    pass
```

### 3. 结果分析
可以添加操作结果分析功能：
```python
def analyze_results(self):
    # 结果分析逻辑
    pass
```

## 联系支持
如有问题，请查看日志文件或联系开发团队。

## 更新日志
- v1.0: 初始版本，包含基本UI功能
- v1.1: 添加多线程支持，界面不卡顿
- v1.2: 添加安全确认机制
- v1.3: 优化界面布局和用户体验
